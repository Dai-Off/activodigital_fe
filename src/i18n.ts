// src/i18n.ts
import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import LanguageDetector from 'i18next-browser-languagedetector';

/**
 * Recursos ES/EN completos y deduplicados.
 * - Incluye alias para todas las claves usadas en: Wizard, Step1, Step2, Step3, AssetsList, topbar/footer.
 * - fallbackLng:'en', returnNull:false para evitar nulls en UI.
 */

export const resources = {
  es: {
    translation: {
  // --- Alias globales ---
  appTitle: 'Arkia',
  profile: 'Perfil',
  // --- Navegación / Menú / Idioma ---
      nav: {
        productName: 'Arkia',
        assets: 'Activos',
        documentation: 'Documentación',
        maintenance: 'Mantenimiento',
        compliance: 'Cumplimiento',
        units: 'Unidades',
        aiChat: 'Chat IA',
      },
      language: {
        en: 'English',
        es: 'Español',
      },

      // --- Roles ---
      roles: {
        propietario: 'Propietario',
        tecnico: 'Asset Manager',
        cfo: 'Chief Financial Manager',
      },

      // --- Auth / Sesión ---
      email: 'Correo electrónico',
      emailPlaceholder: 'tucorreo@ejemplo.com',
      password: 'Contraseña',
      passwordPlaceholder: '••••••••',
      forgotPassword: '¿Olvidaste tu contraseña?',
      rememberMe: 'Recuérdame',
      signIn: 'Entrar',
      signingIn: 'Ingresando...',
      dontHaveAccount: '¿No tienes cuenta?',
      createAccount: 'Crear cuenta',
      invitationPendingMessage: 'Tienes una invitación pendiente. Inicia sesión para completarla.',
      additionalSecurityVerification: 'Verificación adicional de seguridad',
      qrSecurityMessage: 'Para proteger tu cuenta y tus datos, escanea este código QR y escribe el código recibido.',
      scanQrMessage: 'Escanea el QR con tu app y escribe el código recibido',
      qrCode: 'Código del QR',
      qrCodePlaceholder: 'Ej: 123456',
      validateCodeAndEnter: 'Validar código y entrar',
      qrProblemsHelp: '¿Problemas? Usa la app oficial o contacta a soporte.',
      
      // 2FA Setup (registro)
      setup2FATitle: 'Configura tu autenticación de dos factores',
      setup2FADescription: 'Para mayor seguridad, configura Google Authenticator antes de continuar.',
      setup2FAStep1: 'Descarga Google Authenticator en tu móvil',
      setup2FAStep2: 'Escanea este código QR con la aplicación',
      setup2FAStep3: 'Introduce el código de 6 dígitos que aparece',
      cannotScanQR: '¿No puedes escanear el QR?',
      manualEntry: 'Entrada manual',
      manualEntryInstructions: 'Introduce esta clave manualmente en Google Authenticator:',
      copyKey: 'Copiar clave',
      keyCopied: 'Clave copiada',
      verificationCode: 'Código de verificación',
      verificationCodePlaceholder: '000000',
      verifyAndContinue: 'Verificar y continuar',
      verifying2FA: 'Verificando código...',
      invalid2FACode: 'Código inválido. Intenta nuevamente.',
      setup2FASuccess: '¡2FA configurado correctamente!',
      downloadGoogleAuth: 'Descargar para Android o iOS',
      
      // 2FA Login
      enter2FACode: 'Introduce tu código de autenticación',
      enter2FACodeDesc: 'Abre Google Authenticator y escribe el código de 6 dígitos',
      codeFromAuthenticator: 'Código de 6 dígitos',
      verifyCode: 'Verificar código',
      
      close: 'Cerrar',
      send: 'Enviar',

      // --- Topbar / UI ---
      chatAI: 'Chat IA',
      assistant: 'Asistente',
      chatWelcome: '¡Hola! Soy tu asistente inmobiliario. ¿En qué puedo ayudarte hoy?',
      chatUserError: 'Error: No se pudo identificar tu usuario. Intenta iniciar sesión nuevamente.',
      chatTimeoutError: 'El servicio está tardando más de lo esperado. Intenta de nuevo en unos segundos.',
      chatProcessingError: 'Lo siento, hubo un error al procesar tu mensaje. Intenta de nuevo.',
      chatPlaceholder: 'Escribe tu mensaje...',
      searchAssets: 'Buscar activos...',
      clearSearch: 'Limpiar búsqueda',
      ascending: 'ascendente',
      descending: 'descendente',
      ascendingSort: 'Ascendente (A–Z, menor–mayor)',
      descendingSort: 'Descendente (Z–A, mayor–menor)',
      additionalFilters: 'Filtros adicionales',
      filters: 'Filtros',
      bookStatus: 'Estado del Libro',
      energyRating: 'Calificación Energética',
      energyClass: 'Clase energética',
      esgScore: 'ESG Score',
      activeFilters: '{{count}} filtro{{s}} activo{{s}}',
      clearFilters: 'Limpiar filtros',
      loading: 'Cargando',
      imageLimitExceeded: 'Límite de imágenes excedido',
      maxImagesMsg: 'Solo puedes subir hasta {{max}} imágenes. Actualmente tienes {{current}}.',
      uploadingImages: 'Subiendo imágenes...',
      imagesProcessing: 'Las imágenes se están procesando',
      someImagesError: 'Error en algunas imágenes',
      someImagesErrorMsg: '{{failed}} de {{total}} imágenes no se pudieron subir.',
      asset: 'activo',
      filtered: 'filtrado{{s}}',
      value: 'Valor',
      totalValue: 'Valor total',
      totalSurface: 'Superficie total',
      annualEmissions: 'Emisiones anuales',
      averageEnergyClass: 'Clase energética promedio',
      averageESGScore: 'ESG Score medio',
      completedDigitalBook: 'Libro del edificio completo',
      of: 'de',
      assetsList: 'Listado de activos',
      name: 'Nombre',
      digitalBookStatus: 'Estado libro del edificio',
      noAssignedAssets: 'No tienes activos asignados',
      createFirstAssetBtn: 'Crear primer activo',
      showing: 'Mostrando',
      pageSize: 'Tamaño de página',
      perPage: '/página',
      firstPage: 'Primera página',
      previous: 'Anterior',
      next: 'Siguiente',
      page: 'Página',
      lastPage: 'Última página',
      ready: 'Listo',
      inProgress: 'En curso',
      status: 'Estado',
      digitalBook: 'Libro del Edificio',
      energyCertificate: 'Certificación Energética',
      squareMeters: 'Superficie',
      price: 'Precio',
      welcome: 'Bienvenido',
      myAssets: 'Mis Activos',
      assignedAssets: 'Activos Asignados',
      managePortfolio: 'Gestiona tu cartera de activos inmobiliarios y asigna técnicos',
      assignedAssetsDesc: 'Inmuebles que tienes asignados para gestionar sus libros técnicos',
      assignedBuildings: 'Edificios asignados',
      completedBooks: 'Libros completados',
      pendingBooks: 'Pendientes',
      mostCommonTypology: 'Tipología más común',
      averageUnits: 'Promedio de unidades',
      averageAge: 'Edad promedio',
      years: 'años',
      greenFinancingEligible: '% cartera apta para financiación verde',
      completedDigitalBooksPercent: '% libros del edificio completados',
      userDataLoadWarning: 'No se pudieron cargar los datos del usuario, pero puedes continuar navegando.',
      noAssetsYet: 'No tienes activos aún',
      createFirstAsset: 'Comienza creando tu primer activo para gestionar tu cartera.',
      contactAdmin: 'Contacta con tu administrador para que te asigne activos.',

      // Quick actions
      closeChatTitle: 'Cerrar chat IA',
      openChatTitle: 'Abrir chat IA',
      notifications: 'Notificaciones',
      logout: 'Cerrar sesión',
      fullscreen: 'Pantalla completa',
      exitFullscreen: 'Salir de pantalla completa',
      closeImage: 'Cerrar imagen',

      // --- Common (incluye alias de formularios) ---
      common: {
        ok: 'OK',
        completed: 'Completado',
        pending: 'Pendiente',
        expiring: 'Expira',
        notAvailable: 'No disponible',
        updated: 'Actualizado',
        cancel: 'Cancelar',
        back: 'Volver',
        continue: 'Continuar',
        processing: 'Procesando...',
        confirmAndSave: 'Confirmar y guardar',
        deleteCertificate: 'Eliminar certificado',
        actionCannotBeUndone: 'Esta acción no se puede deshacer',
        confirmDeleteCertificate: '¿Seguro que quieres eliminar el certificado energético?',
        previous: 'Anterior',
        next: 'Siguiente',
        saveDraft: 'Guardar borrador',
        saveAndContinue: 'Guardar y continuar',
        validating: 'Validando...',
        remove: 'Eliminar',
        search: 'Buscar',
        searching: 'Buscando...',
        noResults: 'No se encontraron resultados',
        address: 'Dirección',
        addressPlaceholder: 'Ej.: Calle Mayor 123, Madrid',
        unassigned: 'Sin asignar',
        notSpecified: 'No especificado',
        or: 'o',
        error: 'Error',
        unknownError: 'Error desconocido',
      },

      // --- Mensajes/links de ayuda (Wizard header) ---
      needHelp: '¿Necesitas ayuda?',
      buildingCreationGuide: 'Guía de creación de activos',
      contactSupport: 'Contactar soporte',
      assets: 'Activos',
      createBuilding: 'Crear edificio',

      // --- Wizard: títulos y desc de pasos ---
      generalData: 'Datos Generales',
      generalDataDesc: 'Información básica del edificio',
      locationPhotos: 'Ubicación y Fotos',
      locationPhotosDesc: 'Localización y elementos visuales',
      summary: 'Resumen',
      summaryDesc: 'Revisar información antes de continuar',
      draftSaved: 'Borrador guardado',
      dataSavedTemporarily: 'Los datos se han guardado temporalmente.',
      locationAndPhotosSaved: 'Ubicación y fotos guardadas.',
      addressRequired: 'La dirección es obligatoria',

      // --- Certificates ---
      certificates: {
        energyCertificates: 'Certificados energéticos',
        listDescription: 'Listado de certificados energéticos',
        certificateNumberShort: 'Nº certificado',
        rating: 'Calificación',
        energyKwhM2Year: 'Energía (kWh/m²·año)',
        emissionsKgCo2M2Year: 'Emisiones (kgCO₂/m²·año)',
        scope: 'Ámbito',
        issue: 'Emisión',
        expiry: 'Vencimiento',
        noCertificatesTitle: 'Sin certificados',
        technicianCanUpload: 'El técnico puede subir certificados'
      },

      // --- Activities ---
      activities: {
        recentActivity: 'Actividad reciente',
        ceeRenewed: 'CEE renovado',
        twoDaysAgo: 'hace 2 días',
        hvacCompleted: 'Mantenimiento HVAC completado',
        oneWeekAgo: 'hace una semana',
        elevatorInspectionScheduled: 'Inspección de ascensor programada',
        inThreeDays: 'en 3 días',
        pciIncident: 'Incidencia PCI',
        fiveDaysAgo: 'hace 5 días'
      },

      // --- Maintenance Block ---
      maintenanceBlock: { maintenancePlan: 'Plan de mantenimiento' },

      // --- Building (dashboard tiles & details) ---
      building: {
        valuePerM2: 'Valor por m²',
        valuePerUnit: 'Valor por unidad',
        annualVariation: 'Variación anual',
        lastValuation: 'Última valoración',
        constructionYear: 'Año de construcción',
        floors: 'Plantas',
        units: 'Unidades',
        energyRating: 'Clase energética',
        carbonFootprint: 'Huella de carbono',
        financingAccess: 'Acceso a financiación',
        high: 'Alto',
        noCertificates: 'Sin certificados registrados',
        technicianNoCertificates: 'El técnico aún no ha subido certificados',
        complianceByType: 'Cumplimiento por tipología',
        installations: 'Instalaciones',
        certificates: 'Certificados',
        maintenance: 'Mantenimiento',
        inspections: 'Inspecciones',
        ok: 'OK',
        pending: 'Pendiente',
        expires: 'Vence',
        recentActivity: 'Actividad reciente',
        ceeRenewed: 'CEE renovado',
        hvacCompleted: 'Mantenimiento HVAC completado',
        elevatorInspectionScheduled: 'Inspección de ascensor programada',
        pciIncident: 'Incidencia en sistema PCI',
        location: 'Ubicación del edificio',
        municipality: 'Municipio',
        province: 'Provincia',
        coordinates: 'Coordenadas',
        postalCode: 'Código postal',
        valuation: 'Valoración del inmueble',
        totalEstimatedValue: 'Valor total estimado',
        updated: 'Actualizado',
        financialAnalysis: 'Análisis financiero',
        rehabilitationCost: 'Coste de rehabilitación',
        currentValue: 'Valor actual',
        requiredInvestment: 'Inversión requerida',
        potentialValue: 'Valor potencial',
        estimatedROI: 'ROI estimado',
        returnOnInvestment: 'Retorno de inversión',
        title: 'Libro del Edificio',
        digitalBookAccess: 'Accede a documentación técnica, certificados y normativas del edificio',
        digitalBookTechnicianWorking: 'El técnico está trabajando en el libro del edificio',
        digitalBookCreate: 'Crea el libro técnico con información detallada del inmueble',
        completed: 'Completado',
        notCompleted: 'No completado',
        exportCompletedBook: 'Exportar Libro Completado',
        alertsAndExpiries: 'Alertas y próximos vencimientos',
        elevatorReviewExpires: 'Revisión de ascensor vence en 15 días',
        industryElevator: 'Industria • Ascensor principal',
        schedule: 'Programar',
        riteMaintenance: 'Mantenimiento RITE trimestral',
        hvacCommonArea: 'Sistema HVAC • Zona común',
        viewDetails: 'Ver detalles',
        manualUsageUpdate: 'Actualización manual de uso',
        documentationElectrical: 'Documentación • Sistema eléctrico',
        review: 'Revisar',
        technicianAssigned: 'Técnico asignado',
        noTechnicianAssigned: 'Sin técnico asignado aún',
        noDigitalBookReady: 'Sin libro del edificio • Listo para crear',
        viewDigitalBook: 'Ver Libro del Edificio'
      },

      // --- Dashboard (aggregates) ---
      dashboard: {
        completed: 'Completado',
        inProgress: 'En curso',
        scheduled: 'Programado',
        buildingName: 'Nombre del edificio',
        buildingAddress: 'Dirección',
        yearBuilt: 'Año de construcción',
        surface: 'Superficie',
        rooms: 'Habitaciones',
        energyRating: 'Clase energética',
        carbonFootprint: 'Huella de carbono',
        financingAccess: 'Acceso a financiación',
        high: 'Alto',
        complianceByType: 'Cumplimiento por tipología',
        tertiary: 'Terciario',
        digitalBuildingBook: 'Libro del Edificio',
        published: 'Publicado',
        version: 'Versión',
        updated: 'Actualizado',
        statusBySection: 'Estado por sección',
        ok: 'OK',
        pending: 'Pendiente',
        expired: 'Vencido',
        installations: 'Instalaciones',
        certificates: 'Certificados',
        maintenance: 'Mantenimiento',
        inspections: 'Inspecciones',
        openDigitalBook: 'Abrir Libro del Edificio',
        legalCompliance: 'Cumplimiento legal',
        upcomingExpirations: 'Próximos vencimientos',
        maintenanceTasks: 'Tareas de mantenimiento',
        openIncidents: 'Incidencias abiertas',
        maintenancePlan: 'Plan de mantenimiento',
        recentActivity: 'Actividad reciente',
        ceeRenewed: 'CEE renovado',
        daysAgo: 'hace {{count}} días',
        hvacCompleted: 'Mantenimiento HVAC completado',
        weekAgo: 'hace una semana',
        elevatorScheduled: 'Revisión de ascensor programada',
        inDays: 'en {{count}} días',
        pciIncident: 'Incidencia PCI',
        buildingLocation: 'Ubicación del edificio',
        municipality: 'Municipio',
        province: 'Provincia',
        coordinates: 'Coordenadas',
        postalCode: 'Código postal',
        propertyValuation: 'Valoración de la propiedad',
        totalEstimatedValue: 'Valor total estimado',
        lastUpdated: 'Última actualización',
        value: 'Valor',
        valuePerM2: 'Valor por m²',
        valuePerDwelling: 'Valor por vivienda',
        annualVariation: 'Variación anual',
        lastAppraisal: 'Última tasación',
        financialAnalysisTitle: 'Análisis financiero',
        financialAnalysisDescription: 'Análisis financiero detallado del edificio.',
        accessAllDocs: 'Accede a toda la documentación digital del edificio'
      },

      // --- Landing ---
      landing: {
        platformForBuildings: 'Plataforma para edificios',
        platformTitle: 'Plataforma Gestión Activos Inmobiliarios',
        platformDesc: 'Consolida información clave del edificio y añade simulaciones financieras con IA para apoyar decisiones de inversión, rehabilitación o venta.',
        mockupNotice: 'Mockup de producto. Las métricas mostradas son demostrativas.',
        simpleClear: 'Simple y claro',
        simpleClearDesc: 'Interfaz limpia, sin ruido. Enfócate en lo importante.',
        readyToGrow: 'Listo para crecer',
        readyToGrowDesc: 'Arquitectura modular. Funciona hoy, escala mañana.',
        secureData: 'Datos seguros',
        secureDataDesc: 'Autenticación y roles gestionados por backend.',
        financialRating: 'Rating Financiero & ESG',
        investmentSimulator: 'Simulador de Inversiones',
        smartEnvironmentalFootprint: 'Huella Ambiental Inteligente'
      },

      // --- Footer ---
      footer: {
        help: '¿Necesitas ayuda con un activo o documento?',
        assistant: 'Asistente IA',
        product: 'Producto',
        assets: 'Activos',
        documentation: 'Documentación',
        maintenance: 'Mantenimiento',
        compliance: 'Cumplimiento',
        resources: 'Recursos',
        helpCenter: 'Centro de ayuda',
        blog: 'Blog',
        changelog: 'Changelog',
        company: 'Empresa',
        aboutUs: 'Sobre nosotros',
        contact: 'Contacto',
        careers: 'Trabaja con nosotros',
        legal: 'Legal',
        terms: 'Términos',
        privacy: 'Privacidad',
        cookies: 'Cookies',
        supportEmail: 'soporte@tudominio.com',
        supportPhone: '+351 210 000 000',
        productName: 'Arkia',
        copyright: '©',
        operational: 'Operativo',
        up: 'Arriba'
      },

      // --- Digital Book (editor estructurado) ---
      digitalbook: {
        title: 'Libro del Edificio',
        pending: 'Pendiente',
        notCreated: 'No creado',
        completed: 'Completado',
        sectionStatus: 'Estado de la sección',
        installations: 'Instalaciones',
        certificates: 'Certificados',
        maintenance: 'Mantenimiento',
        inspections: 'Inspecciones',
        digitalBookTitle: 'Libro del Edificio',
        digitalBookTechnicianWorking: 'El técnico está trabajando en el libro del edificio.',
        technicianAssigned: 'Técnico asignado:',
        waitingForCreation: 'Esperando creación del libro del edificio',
        sections: {
          general_data: { title: 'Datos generales del edificio', description: 'Información básica y características principales' },
          construction_features: { title: 'Características constructivas y técnicas', description: 'Especificaciones técnicas de construcción' },
          certificates: { title: 'Certificados y licencias', description: 'Documentación legal y certificaciones' },
          maintenance: { title: 'Mantenimiento y conservación', description: 'Historial y planes de mantenimiento' },
          installations: { title: 'Instalaciones y consumos', description: 'Sistemas e instalaciones del edificio' },
          reforms: { title: 'Reformas y renovaciones', description: 'Historial de modificaciones y mejoras' },
          sustainability: { title: 'Sostenibilidad y ESG', description: 'Criterios ambientales y sostenibilidad' },
          attachments: { title: 'Documentos anexos', description: 'Documentación adicional y anexos' }
        },
        status: {
          completed: 'Completada',
          inProgress: 'En progreso',
          pending: 'Pendiente'
        },
        fields: {
          identification: 'Identificación del edificio',
          ownership: 'Titularidad',
          building_typology: 'Tipología detallada',
          primary_use: 'Uso principal',
          construction_date: 'Fecha exacta de construcción',
          materials: 'Materiales principales',
          insulation_systems: 'Sistemas de aislamiento',
          structural_system: 'Sistema estructural',
          facade_type: 'Tipo de fachada',
          roof_type: 'Tipo de cubierta',
          cadastralReferenceShort: 'Referencia catastral',
          buildingNotFound: 'Edificio no encontrado',
          buildingNotFoundOrNoPermissions: 'Edificio no encontrado o sin permisos de acceso.',
          energy_certificate: 'Certificado energético (CEE)',
          building_permits: 'Permisos de edificación',
          habitability_license: 'Licencia de habitabilidad',
          fire_certificate: 'Certificado contraincendios',
          accessibility_certificate: 'Certificado de accesibilidad',
          preventive_plan: 'Plan de mantenimiento preventivo',
          inspection_schedule: 'Calendario de inspecciones',
          incident_history: 'Historial de incidencias',
          maintenance_contracts: 'Contratos de mantenimiento activos',
          electrical_system: 'Sistema eléctrico',
          water_system: 'Sistema de agua',
          gas_system: 'Sistema de gas',
          hvac_system: 'Sistema HVAC',
          consumption_history: 'Historial de consumos',
          renovation_history: 'Historial de reformas',
          structural_modifications: 'Modificaciones estructurales',
          permits_renovations: 'Permisos de reformas',
          improvement_investments: 'Inversiones de mejora',
          renewableSharePercent: 'Porcentaje de energía renovable (%)',
          waterFootprintM3PerM2Year: 'Huella hídrica (m³/m²·año)',
          accessibility: 'Accesibilidad',
          indoorAirQualityCo2Ppm: 'Calidad del aire interior (CO₂ ppm)',
          safetyCompliance: 'Cumplimiento de seguridad',
          regulatoryCompliancePercent: 'Cumplimiento normativo (%)',
          technical_drawings: 'Planos técnicos',
          operation_manuals: 'Manuales de operación',
          financial_reports: 'Informes financieros',
          insurance_policies: 'Pólizas de seguro',
          legal_documents: 'Documentos legales',
          progress: '{{completed}} de {{total}} secciones completadas',
          backToHub: 'Volver al Hub',
          continueWizard: 'Continuar con Wizard',
          viewDigitalBook: 'Ver Libro del Edificio'
        },
        options: {
          residential: 'Residencial',
          commercial: 'Comercial',
          mixed: 'Mixto',
          industrial: 'Industrial',
          accessibility: { full: '100% conforme', partial: 'Parcial (solo acceso básico)', none: 'No conforme' },
          safetyCompliance: { full: 'Cumple toda la normativa', pending: 'Pendiente de actualización', none: 'No conforme / en infracción' }
        },
        sectionsList: {
          title: 'Secciones del Libro del Edificio',
          instructions: 'Revisa y completa cada sección. Haz clic para editar.',
          markComplete: 'Marcar como completada',
          progress: '{{completed}} de {{total}} secciones completadas',
          backToHub: 'Volver al Hub',
          continueWizard: 'Continuar con Wizard'
        }
      },

      // --- Building Wizard (resumen y mapas) ---
      buildingWizard: {
        assetSummary: 'Resumen del activo',
        reviewBeforeCreating: 'Revisa los datos antes de crear el activo.',
        mainPhotoOf: 'Foto principal de',
        imageLoadError: 'Error cargando la imagen',
        noMainPhoto: 'Sin foto principal',
        generalInfo: 'Información general',
        locationPhotos: 'Ubicación y fotos',
        markLocationAndUpload: 'Marca la ubicación del edificio en el mapa y sube las fotos correspondientes.',
        searchOrClickMap: 'Puedes buscar escribiendo la dirección o haciendo clic en el mapa.',
        buildingPhotos: 'Fotos del edificio',
        uploadPhotosDesc: 'Sube fotos del edificio. Marca una como principal.',
        uploadPhotos: 'Subir fotos',
        dragPhotosOrClick: 'Arrastra aquí o haz clic ({{remaining}} restantes)',
        uploadedPhotos: 'Fotos subidas',
        mainPhoto: 'Principal',
        setAsMain: 'Marcar como principal',
        photoAlt: 'Foto {{n}}'
      },
      maps: {
        noLocationFound: 'No se encontró la ubicación.',
        searchError: 'Error buscando la ubicación.',
        selectedLocation: 'Ubicación seleccionada',
        latitude: 'Latitud',
        longitude: 'Longitud'
      },

      // --- Buildings (Wizard forms) + Backend messages ---
      buildings: {
        createBuilding: 'Crear edificio',
        newBuilding: 'Nuevo Edificio',
        completeBasicInfo: 'Completa la información básica para continuar',
        editDataButton: 'Editar datos',
        editLocationButton: 'Editar ubicación',
        createAsset: 'Crear activo',
      creating: 'Creando...',
      address: 'Dirección',
      addressRequired: 'La dirección es obligatoria',
      locationRequired: 'La ubicación es obligatoria',
      maxPhotos: 'Máximo {{n}} fotos',
      
      // --- Protected Route ---
      protectedRoute: {
        verifyingAuth: 'Verificando acceso...',
        accessRestricted: 'Acceso restringido',
        noPermission: 'No tienes permisos para acceder a esta página.',
        goBack: 'Volver'
      },
        buildingCreatedSuccess: 'El activo se ha creado correctamente.',
        errorCreatingAsset: 'Error al crear el activo',
        roleConflict: 'Conflicto de roles',
        missingFormData: 'Faltan datos del formulario. Por favor, completa todos los pasos.',
        // Campos / placeholders / ayudas
        fields: {
          name: 'Nombre',
          constructionYear: 'Año de construcción',
          typology: 'Tipología',
          numFloors: 'Número de plantas',
          numUnits: 'Número de unidades',
          assetPrice: 'Precio del activo',
          surface: 'Superficie (m²)',
          technicianEmail: 'Email del técnico',
          cfoEmail: 'Email del CFO',
          rehabilitationCost: 'Coste de rehabilitación',
          potentialValue: 'Valor potencial'
        },
        placeholders: {
          name: 'Ej.: Torre Central',
          price: '250000',
          surface: '500.50',
          technicianEmail: 'tecnico@ejemplo.com',
          cfoEmail: 'cfo@ejemplo.com',
          rehabilitationCost: '125000',
          potentialValue: '950000',
          selectTypology: 'Selecciona una tipología'
        },
        helpers: {
          assetPrice: 'Opcional. Solo informativo para análisis financiero.',
          surface: 'Opcional. Superficie total del edificio.',
          technicianEmail: 'Opcional. Asignará el rol de Técnico al usuario.',
          cfoEmail: 'Opcional. Asignará el rol de CFO al usuario.',
          rehabilitationCost: 'Estimado de inversión en mejoras.',
          potentialValue: 'Valor estimado después de rehabilitar.'
        },
        validation: {
          nameRequired: 'El nombre del edificio es obligatorio',
          constructionYearRequired: 'El año de construcción es obligatorio',
          validYear: 'Ingresa un año válido (1800-{{currentYear}})',
          typologyRequired: 'Selecciona una tipología',
          floorsRequired: 'El número de plantas es obligatorio',
          validFloors: 'Ingresa un número válido de plantas (1-100)',
          unitsRequired: 'El número de unidades es obligatorio',
          validUnits: 'Ingresa un número válido de unidades (1-1000)',
          validPrice: 'Ingresa un precio válido',
          validCost: 'Costo inválido',
          validValue: 'Valor inválido',
          validSurface: 'Superficie inválida',
          validEmail: 'Email inválido',
          draftNameRequired: 'El borrador requiere un nombre'
        }
      },

      // --- ALIAS planos (para claves sueltas usadas en componentes) ---
      buildingName: 'Nombre del edificio',
      buildingNamePlaceholder: 'Ej.: Torre Central',
      constructionYear: 'Año de construcción',
      typology: 'Tipología',
      selectTypology: 'Selecciona una tipología',
      residential: 'Residencial',
      mixed: 'Mixto',
      commercial: 'Comercial',
      numFloors: 'Número de plantas',
      numUnits: 'Número de unidades',
      assetPrice: 'Precio del activo',
      assetPriceHelper: 'Opcional. Solo informativo para análisis financiero.',
      technicianEmail: 'Email del técnico',
      technicianEmailHelper: 'Opcional. Asignará el rol de Técnico al usuario.',
      cfoEmail: 'Email del CFO',
      cfoEmailHelper: 'Opcional. Asignará el rol de CFO al usuario.',
      financialInfo: 'Información financiera',
      financialInfoDesc: 'Completa datos para análisis y simulaciones.',
      rehabilitationCost: 'Coste de rehabilitación',
      rehabilitationCostHelper: 'Estimado de inversión en mejoras.',
      potentialValue: 'Valor potencial',
      potentialValueHelper: 'Valor estimado después de rehabilitar.',
      surface: 'Superficie (m²)',
      surfaceHelper: 'Opcional. Superficie total del edificio.',
      assignedTechnician: 'Técnico asignado',
      assignedCFO: 'CFO asignado',
      rehabilitationCostLabel: 'Coste de rehabilitación',
      potentialValueLabel: 'Valor potencial',
      surfaceLabel: 'Superficie',
      editData: 'Editar datos',
      
      // --- CFO Intake Form ---
      cfo: {
        intake: {
          title: 'Datos Financieros del Activo',
          description: 'Complete la información financiera y operativa del activo',
          edit: 'Editar',
          loadData: 'Cargar Datos',
          cancel: 'Cancelar',
          previous: 'Anterior',
          next: 'Siguiente',
          save: 'Guardar',
          saving: 'Guardando...',
          editTitle: 'Editar Datos Financieros del Activo',
          progress: 'Progreso',
          section1: 'Precio & Mercado',
          section2: 'Ingresos (últimos 12m)',
          section3: 'OPEX (últimos 12m)',
          section4: 'Documentación (Semáforo)',
          section5: 'Deuda (si aplica)',
          section6: 'Rehabilitación (quick wins)',
        },
        indicator: {
          portfolioValue: 'Valor total cartera',
          avgROI: 'ROI promedio',
          rehabCost: 'Coste rehabilitación',
          avgIRR: 'TIR promedio',
          greenRating: '% rating verde (A-B-C)',
          greenRatingShort: '% rating verde',
          avgPayback: 'Payback promedio',
          totalAssets: 'Total activos',
        },
        card: {
          currentValue: 'Valor actual (€)',
          rehabCost: 'Coste rehab. (€)',
          estimatedROI: 'ROI estimado (%)',
          energyRating: 'Rating energético',
          financialStatus: 'Estado financiero',
          undefined: 'Indefinido',
          viewDetail: 'Ver detalle',
        },
        riskAssets: {
          title: 'Activos con mayor riesgo financiero',
        },
      },
    }
  },

  en: {
    translation: {
  // --- Global aliases ---
  appTitle: 'Digital Asset',
  profile: 'Profile',
  // --- Navigation / Menu / Language ---
      nav: {
        productName: 'Digital Asset',
        assets: 'Assets',
        documentation: 'Documentation',
        maintenance: 'Maintenance',
        compliance: 'Compliance',
        units: 'Units',
        aiChat: 'AI Chat',
      },
      language: {
        en: 'English',
        es: 'Spanish',
      },

      // --- Roles ---
      roles: {
        propietario: 'owner',
        tecnico: 'technician',
        cfo: 'CFO',
      },

      // --- Auth / Session ---
      email: 'Email',
      emailPlaceholder: 'you@example.com',
      password: 'Password',
      passwordPlaceholder: '••••••••',
      forgotPassword: 'Forgot your password?',
      rememberMe: 'Remember me',
      signIn: 'Sign in',
      signingIn: 'Signing in...',
      dontHaveAccount: "Don't have an account?",
      createAccount: 'Create account',
      invitationPendingMessage: 'You have a pending invitation. Sign in to complete it.',
      additionalSecurityVerification: 'Additional security verification',
      qrSecurityMessage: 'To protect your account, scan this QR and enter the received code.',
      scanQrMessage: 'Scan the QR with your app and enter the code',
      qrCode: 'QR code',
      qrCodePlaceholder: 'e.g., 123456',
      validateCodeAndEnter: 'Validate code and enter',
      qrProblemsHelp: 'Problems? Use the official app or contact support.',
      
      // 2FA Setup (registration)
      setup2FATitle: 'Set up two-factor authentication',
      setup2FADescription: 'For added security, set up Google Authenticator before continuing.',
      setup2FAStep1: 'Download Google Authenticator on your phone',
      setup2FAStep2: 'Scan this QR code with the app',
      setup2FAStep3: 'Enter the 6-digit code that appears',
      cannotScanQR: "Can't scan the QR?",
      manualEntry: 'Manual entry',
      manualEntryInstructions: 'Enter this key manually in Google Authenticator:',
      copyKey: 'Copy key',
      keyCopied: 'Key copied',
      verificationCode: 'Verification code',
      verificationCodePlaceholder: '000000',
      verifyAndContinue: 'Verify and continue',
      verifying2FA: 'Verifying code...',
      invalid2FACode: 'Invalid code. Please try again.',
      setup2FASuccess: '2FA successfully configured!',
      downloadGoogleAuth: 'Download for Android or iOS',
      
      // 2FA Login
      enter2FACode: 'Enter your authentication code',
      enter2FACodeDesc: 'Open Google Authenticator and enter the 6-digit code',
      codeFromAuthenticator: '6-digit code',
      verifyCode: 'Verify code',
      
      close: 'Close',
      send: 'Send',

      // --- Topbar / UI ---
      chatAI: 'AI Chat',
      assistant: 'Assistant',
      chatWelcome: "Hello! I'm your digital assets assistant. How can I help you today?",
      chatUserError: 'Error: Could not identify your user. Please sign in again.',
      chatTimeoutError: 'The service is taking longer than expected. Try again in a few seconds.',
      chatProcessingError: 'Sorry, there was an error processing your message. Please try again.',
      chatPlaceholder: 'Type your message...',
      searchAssets: 'Search assets...',
      clearSearch: 'Clear search',
      ascending: 'ascending',
      descending: 'descending',
      ascendingSort: 'Ascending (A–Z, low–high)',
      descendingSort: 'Descending (Z–A, high–low)',
      additionalFilters: 'Additional filters',
      filters: 'Filters',
      bookStatus: 'Book Status',
      energyRating: 'Energy Rating',
      energyClass: 'Energy class',
      esgScore: 'ESG Score',
      activeFilters: '{{count}} active filter{{s}}',
      clearFilters: 'Clear filters',
      loading: 'Loading',
      imageLimitExceeded: 'Image limit exceeded',
      maxImagesMsg: 'You can only upload up to {{max}} images. You currently have {{current}}.',
      uploadingImages: 'Uploading images...',
      imagesProcessing: 'Images are being processed',
      someImagesError: 'Some images error',
      someImagesErrorMsg: '{{failed}} of {{total}} images could not be uploaded.',
      asset: 'asset',
      filtered: 'filtered',
      value: 'Value',
      totalValue: 'Total value',
      totalSurface: 'Total surface',
      annualEmissions: 'Annual emissions',
      averageEnergyClass: 'Average energy class',
      averageESGScore: 'Average ESG Score',
      completedDigitalBook: 'Completed Building Book',
      of: 'of',
      assetsList: 'Assets List',
      name: 'Name',
      digitalBookStatus: 'Building Book Status',
      noAssignedAssets: 'You have no assigned assets',
      createFirstAssetBtn: 'Create first asset',
      showing: 'Showing',
      pageSize: 'Page size',
      perPage: '/page',
      firstPage: 'First page',
      previous: 'Previous',
      next: 'Next',
      page: 'Page',
      lastPage: 'Last page',
      ready: 'Ready',
      inProgress: 'In progress',
      status: 'Status',
      digitalBook: 'Building Book',
      energyCertificate: 'Energy Certificate',
      squareMeters: 'Surface',
      price: 'Price',
      welcome: 'Welcome',
      myAssets: 'My Assets',
      assignedAssets: 'Assigned Assets',
      managePortfolio: 'Manage your real estate portfolio and assign technicians',
      assignedAssetsDesc: 'Properties assigned to you to manage their technical records',
      assignedBuildings: 'Assigned buildings',
      completedBooks: 'Completed books',
      pendingBooks: 'Pending',
      mostCommonTypology: 'Most common typology',
      averageUnits: 'Average units',
      averageAge: 'Average age',
      years: 'years',
      greenFinancingEligible: '% portfolio eligible for green financing',
      completedDigitalBooksPercent: '% completed building books',
      userDataLoadWarning: 'We could not load user data, but you can continue browsing.',
      noAssetsYet: 'You have no assets yet',
      createFirstAsset: 'Start by creating your first asset to manage your portfolio.',
      contactAdmin: 'Contact your administrator to assign you assets.',

      // Quick actions
      closeChatTitle: 'Close AI chat',
      openChatTitle: 'Open AI chat',
      notifications: 'Notifications',
      logout: 'Log out',
      fullscreen: 'Fullscreen',
      exitFullscreen: 'Exit fullscreen',
      closeImage: 'Close image',

      // --- Common ---
      common: {
        ok: 'OK',
        completed: 'Completed',
        pending: 'Pending',
        expiring: 'Expiring',
        notAvailable: 'Not available',
        updated: 'Updated',
        cancel: 'Cancel',
        back: 'Back',
        continue: 'Continue',
        processing: 'Processing...',
        confirmAndSave: 'Confirm and save',
        deleteCertificate: 'Delete certificate',
        actionCannotBeUndone: 'This action cannot be undone',
        confirmDeleteCertificate: 'Are you sure you want to delete the energy certificate?',
        previous: 'Previous',
        next: 'Next',
        saveDraft: 'Save draft',
        saveAndContinue: 'Save and continue',
        validating: 'Validating...',
        remove: 'Remove',
        search: 'Search',
        searching: 'Searching...',
        noResults: 'No results found',
        address: 'Address',
        addressPlaceholder: 'e.g., 123 Main St, Madrid',
        unassigned: 'Unassigned',
        notSpecified: 'Not specified',
        or: 'or',
        error: 'Error',
        unknownError: 'Unknown error',
      },

      // --- Help/links header ---
      needHelp: 'Need help?',
      buildingCreationGuide: 'Asset creation guide',
      contactSupport: 'Contact support',
      assets: 'Assets',
      createBuilding: 'Create building',

      // --- Wizard step titles/descriptions ---
      generalData: 'General Data',
      generalDataDesc: 'Basic building information',
      locationPhotos: 'Location and Photos',
      locationPhotosDesc: 'Location and visual assets',
      summary: 'Summary',
      summaryDesc: 'Review information before continuing',
      draftSaved: 'Draft saved',
      dataSavedTemporarily: 'Data saved temporarily.',
      locationAndPhotosSaved: 'Location and photos saved.',
      addressRequired: 'Address is required',

      // --- Certificates ---
      certificates: {
        energyCertificates: 'Energy Certificates',
        listDescription: 'List of building energy certificates',
        certificateNumberShort: 'Certificate No.',
        rating: 'Rating',
        energyKwhM2Year: 'Energy (kWh/m²·year)',
        emissionsKgCo2M2Year: 'Emissions (kgCO₂/m²·year)',
        scope: 'Scope',
        issue: 'Issue',
        expiry: 'Expiry',
        noCertificatesTitle: 'No certificates',
        technicianCanUpload: 'Technician can upload certificates'
      },

      // --- Activities ---
      activities: {
        recentActivity: 'Recent Activity',
        ceeRenewed: 'CEE renewed',
        twoDaysAgo: '2 days ago',
        hvacCompleted: 'HVAC maintenance completed',
        oneWeekAgo: 'a week ago',
        elevatorInspectionScheduled: 'Elevator inspection scheduled',
        inThreeDays: 'in 3 days',
        pciIncident: 'PCI incident',
        fiveDaysAgo: '5 days ago'
      },

      // --- Maintenance Block ---
      maintenanceBlock: { maintenancePlan: 'Maintenance Plan' },

      // --- Building (dashboard tiles & details) ---
      building: {
        valuePerM2: 'Value per m²',
        valuePerUnit: 'Value per unit',
        annualVariation: 'Annual variation',
        lastValuation: 'Last valuation',
        constructionYear: 'Year of construction',
        floors: 'Floors',
        units: 'Units',
        energyRating: 'Energy rating',
        carbonFootprint: 'Carbon footprint',
        financingAccess: 'Financing access',
        high: 'High',
        noCertificates: 'No certificates registered',
        technicianNoCertificates: 'Technician has not uploaded certificates yet',
        complianceByType: 'Compliance by type',
        installations: 'Installations',
        certificates: 'Certificates',
        maintenance: 'Maintenance',
        inspections: 'Inspections',
        ok: 'OK',
        pending: 'Pending',
        expires: 'Expires',
        recentActivity: 'Recent Activity',
        ceeRenewed: 'CEE certificate renewed',
        hvacCompleted: 'HVAC maintenance completed',
        elevatorInspectionScheduled: 'Elevator inspection scheduled',
        pciIncident: 'PCI system incident',
        location: 'Building Location',
        municipality: 'Municipality',
        province: 'Province',
        coordinates: 'Coordinates',
        postalCode: 'Postal code',
        valuation: 'Property Valuation',
        totalEstimatedValue: 'Total Estimated Value',
        updated: 'Updated',
        financialAnalysis: 'Financial Analysis',
        rehabilitationCost: 'Rehabilitation cost',
        currentValue: 'Current Value',
        requiredInvestment: 'Required Investment',
        potentialValue: 'Potential Value',
        estimatedROI: 'Estimated ROI',
        returnOnInvestment: 'Return on investment',
        title: 'Building Book',
        digitalBookAccess: 'Access all technical documentation, certificates, and regulations of the building',
        digitalBookTechnicianWorking: 'The technician is working on the building book',
        digitalBookCreate: 'Create the technical book with detailed building information',
        completed: 'Completed',
        notCompleted: 'Not completed',
        exportCompletedBook: 'Export Completed Book',
        alertsAndExpiries: 'Alerts and Upcoming Expirations',
        elevatorReviewExpires: 'Elevator review expires in 15 days',
        industryElevator: 'Industry • Main Elevator',
        schedule: 'Schedule',
        riteMaintenance: 'Quarterly RITE maintenance',
        hvacCommonArea: 'HVAC system • Common area',
        viewDetails: 'View details',
        manualUsageUpdate: 'Manual usage update',
        documentationElectrical: 'Documentation • Electrical system',
        review: 'Review',
        technicianAssigned: 'Technician assigned',
        noTechnicianAssigned: 'No technician assigned yet',
        noDigitalBookReady: 'No building book • Ready to create',
        viewDigitalBook: 'View Building Book'
      },

      // --- Dashboard (aggregates) ---
      dashboard: {
        completed: 'Completed',
        inProgress: 'In progress',
        scheduled: 'Scheduled',
        buildingName: 'Building name',
        buildingAddress: 'Address',
        yearBuilt: 'Year built',
        surface: 'Surface',
        rooms: 'Rooms',
        energyRating: 'Energy class',
        carbonFootprint: 'Carbon footprint',
        financingAccess: 'Financing access',
        high: 'High',
        complianceByType: 'Compliance by type',
        tertiary: 'Tertiary',
        digitalBuildingBook: 'Digital Building Book',
        published: 'Published',
        version: 'Version',
        updated: 'Updated',
        statusBySection: 'Status by section',
        ok: 'OK',
        pending: 'Pending',
        expired: 'Expired',
        installations: 'Installations',
        certificates: 'Certificates',
        maintenance: 'Maintenance',
        inspections: 'Inspections',
        openDigitalBook: 'Open Building Book',
        legalCompliance: 'Legal compliance',
        upcomingExpirations: 'Upcoming expirations',
        maintenanceTasks: 'Maintenance tasks',
        openIncidents: 'Open incidents',
        maintenancePlan: 'Maintenance Plan',
        recentActivity: 'Recent Activity',
        ceeRenewed: 'CEE renewed',
        daysAgo: '{{count}} days ago',
        hvacCompleted: 'HVAC maintenance completed',
        weekAgo: 'a week ago',
        elevatorScheduled: 'Elevator scheduled',
        inDays: 'in {{count}} days',
        pciIncident: 'PCI incident',
        buildingLocation: 'Building location',
        municipality: 'Municipality',
        province: 'Province',
        coordinates: 'Coordinates',
        postalCode: 'Postal code',
        propertyValuation: 'Property valuation',
        totalEstimatedValue: 'Total estimated value',
        lastUpdated: 'Last updated',
        value: 'Value',
        valuePerM2: 'Value per m²',
        valuePerDwelling: 'Value per dwelling',
        annualVariation: 'Annual variation',
        lastAppraisal: 'Last appraisal',
        financialAnalysisTitle: 'Financial analysis',
        financialAnalysisDescription: 'Detailed financial analysis of the building.',
        accessAllDocs: 'Access all digital building documentation'
      },

      // --- Landing ---
      landing: {
        platformForBuildings: 'Platform for buildings',
        platformTitle: 'Real Estate Asset Management Platform',
        platformDesc: 'Consolidates key building information and adds AI financial simulations to support investment, renovation or sale decisions.',
        mockupNotice: 'Product mockup. The metrics shown are demonstrative.',
        simpleClear: 'Simple and clear',
        simpleClearDesc: 'Clean interface, no noise. Focus on what matters.',
        readyToGrow: 'Ready to grow',
        readyToGrowDesc: 'Modular architecture. Works today, scales tomorrow.',
        secureData: 'Secure data',
        secureDataDesc: 'Authentication and roles managed by backend.',
        financialRating: 'Financial & ESG Rating',
        investmentSimulator: 'Investment Simulator',
        smartEnvironmentalFootprint: 'Smart Environmental Footprint'
      },

      // --- Footer ---
      footer: {
        help: 'Need help with an asset or document?',
        assistant: 'AI Assistant',
        product: 'Product',
        assets: 'Assets',
        documentation: 'Documentation',
        maintenance: 'Maintenance',
        compliance: 'Compliance',
        resources: 'Resources',
        helpCenter: 'Help Center',
        blog: 'Blog',
        changelog: 'Changelog',
        company: 'Company',
        aboutUs: 'About us',
        contact: 'Contact',
        careers: 'Careers',
        legal: 'Legal',
        terms: 'Terms',
        privacy: 'Privacy',
        cookies: 'Cookies',
        supportEmail: 'support@yourdomain.com',
        supportPhone: '+351 210 000 000',
        productName: 'Digital Asset',
        copyright: '©',
        operational: 'Operational',
        up: 'Up'
      },

      // --- Digital Book ---
      digitalbook: {
        title: 'Building Book',
        pending: 'Pending',
        notCreated: 'Not created',
        completed: 'Completed',
        sectionStatus: 'Section status',
        installations: 'Installations',
        certificates: 'Certificates',
        maintenance: 'Maintenance',
        inspections: 'Inspections',
        digitalBookTitle: 'Building Book',
        digitalBookTechnicianWorking: 'The technician is working on the building book.',
        technicianAssigned: 'Technician assigned:',
        waitingForCreation: 'Waiting for building book creation',
        sections: {
          general_data: { title: 'General building data', description: 'Basic information and main features' },
          construction_features: { title: 'Construction and technical features', description: 'Technical construction specifications' },
          certificates: { title: 'Certificates and licenses', description: 'Legal documentation and certifications' },
          maintenance: { title: 'Maintenance and conservation', description: 'Maintenance history and plans' },
          installations: { title: 'Installations and consumption', description: 'Building systems and installations' },
          reforms: { title: 'Reforms and renovations', description: 'History of modifications and improvements' },
          sustainability: { title: 'Sustainability and ESG', description: 'Environmental criteria and sustainability' },
          attachments: { title: 'Attached documents', description: 'Additional documentation and attachments' }
        },
        status: {
          completed: 'Completed',
          inProgress: 'In progress',
          pending: 'Pending'
        },
        fields: {
          identification: 'Building identification',
          ownership: 'Ownership',
          building_typology: 'Detailed typology',
          primary_use: 'Primary use',
          construction_date: 'Exact construction date',
          materials: 'Main materials',
          insulation_systems: 'Insulation systems',
          structural_system: 'Structural system',
          facade_type: 'Facade type',
          roof_type: 'Roof type',
          cadastralReferenceShort: 'Cadastral Reference',
          buildingNotFound: 'Building not found',
          buildingNotFoundOrNoPermissions: 'Building not found or you do not have permission to view it.',
          energy_certificate: 'Energy certificate (CEE)',
          building_permits: 'Building permits',
          habitability_license: 'Habitability license',
          fire_certificate: 'Fire certificate',
          accessibility_certificate: 'Accessibility certificate',
          preventive_plan: 'Preventive maintenance plan',
          inspection_schedule: 'Inspection schedule',
          incident_history: 'Incident history',
          maintenance_contracts: 'Active maintenance contracts',
          electrical_system: 'Electrical system',
          water_system: 'Water system',
          gas_system: 'Gas system',
          hvac_system: 'HVAC system',
          consumption_history: 'Consumption history',
          renovation_history: 'Renovation history',
          structural_modifications: 'Structural modifications',
          permits_renovations: 'Renovation permits',
          improvement_investments: 'Improvement investments',
          renewableSharePercent: 'Renewable energy share (%)',
          waterFootprintM3PerM2Year: 'Water footprint (m³/m²·year)',
          accessibility: 'Accessibility level',
          indoorAirQualityCo2Ppm: 'Indoor air quality (CO₂ ppm)',
          safetyCompliance: 'Safety compliance',
          regulatoryCompliancePercent: 'Regulatory compliance (%)',
          technical_drawings: 'Technical drawings',
          operation_manuals: 'Operation manuals',
          financial_reports: 'Financial reports',
          insurance_policies: 'Insurance policies',
          legal_documents: 'Legal documents',
          progress: '{{completed}} of {{total}} sections completed',
          backToHub: 'Back to Hub',
          continueWizard: 'Continue with Wizard',
          viewDigitalBook: 'View Building Book'
        },
        options: {
          residential: 'Residential',
          commercial: 'Commercial',
          mixed: 'Mixed',
          industrial: 'Industrial',
          accessibility: { full: '100% compliant', partial: 'Partial (basic access only)', none: 'Not compliant' },
          safetyCompliance: { full: 'Compliant with all regulations', pending: 'Pending update', none: 'Not compliant / in violation' }
        },
        sectionsList: {
          title: 'Building Book Sections',
          instructions: 'Review and complete each section. Click to edit.',
          markComplete: 'Mark complete',
          progress: '{{completed}} of {{total}} sections completed',
          backToHub: 'Back to Hub',
          continueWizard: 'Continue with Wizard'
        }
      },

      // --- Building Wizard (summary + maps) ---
      buildingWizard: {
        assetSummary: 'Asset summary',
        reviewBeforeCreating: 'Review the data before creating the asset.',
        mainPhotoOf: 'Main photo of',
        imageLoadError: 'Error loading image',
        noMainPhoto: 'No main photo',
        generalInfo: 'General information',
        locationPhotos: 'Location and photos',
        markLocationAndUpload: 'Mark the building location on the map and upload the photos.',
        searchOrClickMap: 'You can search by typing the address or by clicking on the map.',
        buildingPhotos: 'Building photos',
        uploadPhotosDesc: 'Upload building photos. Mark one as main.',
        uploadPhotos: 'Upload photos',
        dragPhotosOrClick: 'Drag here or click ({{remaining}} left)',
        uploadedPhotos: 'Uploaded photos',
        mainPhoto: 'Main',
        setAsMain: 'Set as main',
        photoAlt: 'Photo {{n}}'
      },
      maps: {
        noLocationFound: 'Location not found.',
        searchError: 'Error searching location.',
        selectedLocation: 'Selected location',
        latitude: 'Latitude',
        longitude: 'Longitude'
      },

      // --- Buildings (Wizard forms) + Backend messages ---
      buildings: {
        createBuilding: 'Create building',
        newBuilding: 'New Building',
        completeBasicInfo: 'Complete the basic information to continue',
        editDataButton: 'Edit data',
        editLocationButton: 'Edit location',
        createAsset: 'Create asset',
        creating: 'Creating...',
        address: 'Address',
        addressRequired: 'Address is required',
        locationRequired: 'Location is required',
        maxPhotos: 'Maximum {{n}} photos',
        
        // --- Protected Route ---
        protectedRoute: {
          verifyingAuth: 'Verifying access...',
          accessRestricted: 'Access restricted',
          noPermission: 'You do not have permission to access this page.',
          goBack: 'Go back'
        },
        buildingCreatedSuccess: 'The asset was created successfully.',
        errorCreatingAsset: 'Error creating asset',
        roleConflict: 'Role conflict',
        missingFormData: 'Form data is missing. Please complete all steps.',
        fields: {
          name: 'Name',
          constructionYear: 'Year of construction',
          typology: 'Typology',
          numFloors: 'Number of floors',
          numUnits: 'Number of units',
          assetPrice: 'Asset price',
          surface: 'Surface (m²)',
          technicianEmail: 'Technician email',
          cfoEmail: 'CFO email',
          rehabilitationCost: 'Rehabilitation cost',
          potentialValue: 'Potential value'
        },
        placeholders: {
          name: 'e.g., Central Tower',
          price: '250000',
          surface: '500.50',
          technicianEmail: 'technician@example.com',
          cfoEmail: 'cfo@example.com',
          rehabilitationCost: '125000',
          potentialValue: '950000',
          selectTypology: 'Select a typology'
        },
        helpers: {
          assetPrice: 'Optional. Informational for financial analysis only.',
          surface: 'Optional. Total building surface.',
          technicianEmail: 'Optional. Will assign the Technician role.',
          cfoEmail: 'Optional. Will assign the CFO role.',
          rehabilitationCost: 'Estimated investment in improvements.',
          potentialValue: 'Estimated value after rehabilitation.'
        },
        validation: {
          nameRequired: 'Building name is required',
          constructionYearRequired: 'Construction year is required',
          validYear: 'Enter a valid year (1800-{{currentYear}})',
          typologyRequired: 'Select a typology',
          floorsRequired: 'Number of floors is required',
          validFloors: 'Enter a valid number of floors (1-100)',
          unitsRequired: 'Number of units is required',
          validUnits: 'Enter a valid number of units (1-1000)',
          validPrice: 'Enter a valid price',
          validCost: 'Invalid cost',
          validValue: 'Invalid value',
          validSurface: 'Invalid surface',
          validEmail: 'Invalid email',
          draftNameRequired: 'Draft requires a name'
        }
      },

      // --- FLAT aliases (single keys used directly in components) ---
      buildingName: 'Building name',
      buildingNamePlaceholder: 'e.g., Central Tower',
      constructionYear: 'Year of construction',
      typology: 'Typology',
      selectTypology: 'Select a typology',
      residential: 'Residential',
      mixed: 'Mixed',
      commercial: 'Commercial',
      numFloors: 'Number of floors',
      numUnits: 'Number of units',
      assetPrice: 'Asset price',
      assetPriceHelper: 'Optional. Informational for financial analysis only.',
      technicianEmail: 'Technician email',
      technicianEmailHelper: 'Optional. Will assign the Technician role.',
      cfoEmail: 'CFO email',
      cfoEmailHelper: 'Optional. Will assign the CFO role.',
      financialInfo: 'Financial information',
      financialInfoDesc: 'Complete data for analysis and simulations.',
      rehabilitationCost: 'Rehabilitation cost',
      rehabilitationCostHelper: 'Estimated investment in improvements.',
      potentialValue: 'Potential value',
      potentialValueHelper: 'Estimated value after rehabilitation.',
      surface: 'Surface (m²)',
      surfaceHelper: 'Optional. Total building surface.',
      assignedTechnician: 'Assigned technician',
      assignedCFO: 'Assigned CFO',
      rehabilitationCostLabel: 'Rehabilitation cost',
      potentialValueLabel: 'Potential value',
      surfaceLabel: 'Surface',
      editData: 'Edit data',
      
      // --- CFO Intake Form ---
      cfo: {
        intake: {
          title: 'Asset Financial Data',
          description: 'Complete the asset\'s financial and operational information',
          edit: 'Edit',
          loadData: 'Load Data',
          cancel: 'Cancel',
          previous: 'Previous',
          next: 'Next',
          save: 'Save',
          saving: 'Saving...',
          editTitle: 'Edit Asset Financial Data',
          progress: 'Progress',
          section1: 'Price & Market',
          section2: 'Income (last 12m)',
          section3: 'OPEX (last 12m)',
          section4: 'Documentation (Status)',
          section5: 'Debt (if applicable)',
          section6: 'Rehabilitation (quick wins)',
        },
        indicator: {
          portfolioValue: 'Total portfolio value',
          avgROI: 'Average ROI',
          rehabCost: 'Rehabilitation cost',
          avgIRR: 'Average IRR',
          greenRating: '% green rating (A-B-C)',
          greenRatingShort: '% green rating',
          avgPayback: 'Average payback',
          totalAssets: 'Total assets',
        },
        card: {
          currentValue: 'Current value (€)',
          rehabCost: 'Rehab cost (€)',
          estimatedROI: 'Estimated ROI (%)',
          energyRating: 'Energy rating',
          financialStatus: 'Financial status',
          undefined: 'Undefined',
          viewDetail: 'View detail',
        },
        riskAssets: {
          title: 'Assets with highest financial risk',
        },
      },
    }
  }
} as const;

// --- i18n init ---
i18n
  .use(LanguageDetector)
  .use(initReactI18next)
  .init({
    resources,
    fallbackLng: 'en',
    supportedLngs: ['en', 'es'],
    defaultNS: 'translation',
    ns: ['translation'],
    interpolation: { escapeValue: false },
    returnNull: false,
    detection: {
      order: ['localStorage', 'querystring', 'navigator', 'htmlTag'],
      caches: ['localStorage'],
    },
    react: { useSuspense: false },
  });

export default i18n;
